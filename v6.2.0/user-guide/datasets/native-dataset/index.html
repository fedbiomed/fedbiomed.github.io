<!DOCTYPE html><html> <head><meta charset=UTF-8><meta name=viewport content="width=device-width, initial-scale=1"><meta name=robots context="index, archive"><!--  --><script>
      const versions_json = "../../../../versions.json";
      const search_worker_js = "../../../assets/javascript/search-worker.js";
      const search_index_json = "../../../search/search_index.json";
      const base_url = '../../..';
    </script><!-- Site title --><title>Adding a Native Dataset - Fed-BioMed</title><link rel=icon type=image/x-icon href=../../../favicon.ico><!-- Page description --><meta name=description content="Open, Transparent and Trusted Collaborative Learning for Real-world Healthcare Applications"><!-- Page keywords --><!-- Page author --><!-- Latest compiled and minified CSS --><link rel=stylesheet href=https://stackpath.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap.min.css integrity=sha384-HSMxcRTRxnN+Bdg0JdbxYKrThecOKuH5zCYotlSAcp1+c8xmyTe9GYg1l9a69psu crossorigin=anonymous><!-- Bootstrap Icons --><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/bootstrap-icons@1.5.0/font/bootstrap-icons.css><link href=../../../assets/_mkdocstrings.css rel=stylesheet><link href=../../../assets/css/style.css rel=stylesheet></head> <body> <header> <div class="container-fluid top-bar"> <div class=brand> <a href=/ > <img src=../../../assets/img/fedbiomed-logo-small.png> </a> </div> <nav class=top> <ul> <li class> <a href=../../..>Home</a> </li> <li class> <a href=../../../getting-started/what-is-fedbiomed/ >User Documentation</a> </li> <li class> <a href=../../../pages/about-us/ >About</a> </li> <li id=clicker class=has-sub> More <i class="bi bi-chevron-down"></i> <ul class=sub-nav-menu> <li class> <a href=../../../#funding>Funding</a> </li> <li class> <a href=../../../news/ >News</a> </li> <li class> <a href=../../../#contributors>Contributors</a> </li> <li class> <a href=../../../#users>Users</a> </li> <li class> <a href=../../../pages/roadmap/ >Roadmap</a> </li> <li class> <a href=../../../#citation>How to Cite Us</a> </li> <li class> <a href=../../../#contact-us>Contact Us</a> </li> </ul> </li> </ul> </nav> </div> <div class="container-fluid top-bar-mobile"> <div class=mobile-bar> <div class=brand> <a href=../../../ > <img src=../../../assets/img/fedbiomed-logo-small.png> </a> </div> <div class=hum-menu> <img class=open src=../../../assets/img/menu.svg> <img class=close style=display:none src=../../../assets/img/cancel.svg> </div> </div> <nav class=top-mobile> <ul> <li class> <a href=../../..>Home</a> </li> <li class> <a href=../../../getting-started/what-is-fedbiomed/ >User Documentation</a> </li> <li class> <a href=../../../pages/about-us/ >About</a> </li> <li id=clicker class=has-sub> More <i class="bi bi-chevron-down"></i> <ul class=sub-nav-menu> <li class> <a href=../../../#funding>Funding</a> </li> <li class> <a href=../../../news/ >News</a> </li> <li class> <a href=../../../#contributors>Contributors</a> </li> <li class> <a href=../../../#users>Users</a> </li> <li class> <a href=../../../pages/roadmap/ >Roadmap</a> </li> <li class> <a href=../../../#citation>How to Cite Us</a> </li> <li class> <a href=../../../#contact-us>Contact Us</a> </li> </ul> </li> </ul> </nav> </div> </header> <div class=main> <!-- Home page --> <div class=container-fluid> <div class=doc-row> <div class=left-col> <div class=sidebar-doc> <nav class=sidebar-inner> <ul class="sidebar-menu-left sub"> <li data-adress=sub-1 class=has-sub-side> <div href class="parent-list "> Getting Started <i class="bi bi-chevron-down"></i> </div> <ul class="sub-sidebar-menu sub "> <li class> <a href=../../../getting-started/what-is-fedbiomed/ class>What's Fed-BioMed</a> </li> <li class> <a href=../../../getting-started/fedbiomed-architecture/ class>Fedbiomed Architecture</a> </li> <li class> <a href=../../../getting-started/fedbiomed-workflow/ class>Fedbiomed Workflow</a> </li> <li class> <a href=../../../getting-started/installation/ class>Installation</a> </li> <li class> <a href=../../../getting-started/basic-example/ class>Basic Example</a> </li> <li class> <a href=../../../getting-started/configuration/ class>Configuration</a> </li> </ul> </li> <li data-adress=sub-1 class=has-sub-side> <div href class="parent-list "> Tutorials <i class="bi bi-chevron-down"></i> </div> <ul class="sub-sidebar-menu sub "> <li data-adress=sub-1 class=has-sub-side> <div href class="parent-list "> PyTorch <i class="bi bi-chevron-down"></i> </div> <ul class="sub-sidebar-menu sub "> <li class> <a href=../../../tutorials/pytorch/01_PyTorch_MNIST_Single_Node_Tutorial/ class>PyTorch MNIST Basic Example</a> </li> <li class> <a href=../../../tutorials/pytorch/02_Create_Your_Custom_Training_Plan/ class>How to Create Your Custom PyTorch Training Plan</a> </li> <li class> <a href=../../../tutorials/pytorch/03_PyTorch_Used_Cars_Dataset_Example/ class>PyTorch Used Cars Dataset Example</a> </li> <li class> <a href=../../../tutorials/pytorch/05_Transfer-learning_tutorial_usingDenseNet-121/ class>Transfer-learning in Fed-BioMed tutorial</a> </li> <li class> <a href=../../../tutorials/pytorch/04-Aggregation_in_Fed-BioMed/ class>PyTorch aggregation methods in Fed-BioMed</a> </li> </ul> </li> <li data-adress=sub-1 class=has-sub-side> <div href class="parent-list "> MONAI <i class="bi bi-chevron-down"></i> </div> <ul class="sub-sidebar-menu sub "> <li class> <a href=../../../tutorials/monai/01_monai-2d-image-classification/ class>Federated 2d image classification with MONAI</a> </li> <li class> <a href=../../../tutorials/monai/02_monai-2d-image-registration/ class>Federated 2d XRay registration with MONAI</a> </li> </ul> </li> <li data-adress=sub-1 class=has-sub-side> <div href class="parent-list "> Scikit-Learn <i class="bi bi-chevron-down"></i> </div> <ul class="sub-sidebar-menu sub "> <li class> <a href=../../../tutorials/scikit-learn/01_sklearn_MNIST_classification_tutorial/ class>MNIST classification with Scikit-Learn Classifier (Perceptron)</a> </li> <li class> <a href=../../../tutorials/scikit-learn/02_sklearn_sgd_regressor_tutorial/ class>Fed-BioMed to train a federated SGD regressor model</a> </li> <li class> <a href=../../../tutorials/scikit-learn/03-other-scikit-learn-models/ class>Implementing other Scikit Learn models for Federated Learning</a> </li> </ul> </li> <li data-adress=sub-1 class=has-sub-side> <div href class="parent-list "> Optimizers <i class="bi bi-chevron-down"></i> </div> <ul class="sub-sidebar-menu sub "> <li class> <a href=../../../tutorials/optimizers/01-fedopt-and-scaffold/ class>Advanced optimizers in Fed-BioMed</a> </li> </ul> </li> <li data-adress=sub-1 class=has-sub-side> <div href class="parent-list "> FLamby <i class="bi bi-chevron-down"></i> </div> <ul class="sub-sidebar-menu sub "> <li class> <a href=../../../tutorials/flamby/ class>Introduction</a> </li> <li class> <a href=../../../tutorials/flamby/flamby-integration-into-fedbiomed/ class>FLamby in Fed-BioMed</a> </li> </ul> </li> <li data-adress=sub-1 class=has-sub-side> <div href class="parent-list "> Advanced <i class="bi bi-chevron-down"></i> </div> <ul class="sub-sidebar-menu sub "> <li class> <a href=../../../tutorials/advanced/in-depth-experiment-configuration/ class>In Depth Experiment Configuration</a> </li> <li class> <a href=../../../tutorials/advanced/training-with-gpu/ class>PyTorch model training using a GPU</a> </li> <li class> <a href=../../../tutorials/advanced/breakpoints/ class>Breakpoints</a> </li> </ul> </li> <li data-adress=sub-1 class=has-sub-side> <div href class="parent-list "> Security <i class="bi bi-chevron-down"></i> </div> <ul class="sub-sidebar-menu sub "> <li class> <a href=../../../tutorials/security/differential-privacy-with-opacus-on-fedbiomed/ class>Using Differential Privacy with OPACUS on Fed-BioMed</a> </li> <li class> <a href=../../../tutorials/security/non-private-local-central-dp-monai-2d-image-registration/ class>Local and Central DP with Fed-BioMed: MONAI 2d image registration</a> </li> <li class> <a href=../../../tutorials/security/training-with-approved-training-plans/ class>Training Process with Training Plan Management</a> </li> <li class> <a href=../../../tutorials/security/secure-aggregation/ class>Training with Secure Aggregation</a> </li> <li class> <a href=../../../tutorials/concrete-ml/concrete-ml/ class>End-to-end Privacy Preserving Training and Inference on Medical Data</a> </li> </ul> </li> <li data-adress=sub-1 class=has-sub-side> <div href class="parent-list "> Biomedical data <i class="bi bi-chevron-down"></i> </div> <ul class="sub-sidebar-menu sub "> <li class> <a href=../../../tutorials/medical/medical-image-segmentation-unet-library/ class>Brain Segmentation</a> </li> </ul> </li> </ul> </li> <li data-adress=sub-1 class="current has-sub-side"> <div href class="parent-list current "> User Guide <i class="bi bi-chevron-down"></i> </div> <ul class="sub-sidebar-menu sub active "> <li class> <a href=../../glossary/ class>Glossary</a> </li> <li data-adress=sub-1 class="current has-sub-side"> <div href class="parent-list current "> Datasets <i class="bi bi-chevron-down"></i> </div> <ul class="sub-sidebar-menu sub active "> <li class> <a href=../ class>Introduction</a> </li> <li class> <a href=../default-datasets/ class>Default Datasets</a> </li> <li class> <a href=../image-dataset/ class>Image Datasets</a> </li> <li class> <a href=../tabular-dataset/ class>Tabular Datasets</a> </li> <li class> <a href=../medical-folder-dataset/ class>Medical Datasets</a> </li> <li class> <a href=../custom-dataset/ class>Adding your Custom Dataset</a> </li> <li class=current> <a href=./ class="link current">Adding a Native Dataset</a> </li> <li class> <a href=../applying-transformations/ class>Applying Transformations</a> </li> </ul> </li> <li data-adress=sub-1 class=has-sub-side> <div href class="parent-list "> Deployment <i class="bi bi-chevron-down"></i> </div> <ul class="sub-sidebar-menu sub "> <li class> <a href=../../deployment/deployment/ class>Introduction</a> </li> <li class> <a href=../../deployment/deployment-vpn/ class>VPN Deployment</a> </li> <li class> <a href=../../deployment/matrix/ class>Network matrix</a> </li> <li class> <a href=../../deployment/security-model/ class>Security model</a> </li> </ul> </li> <li data-adress=sub-1 class=has-sub-side> <div href class="parent-list "> Node <i class="bi bi-chevron-down"></i> </div> <ul class="sub-sidebar-menu sub "> <li class> <a href=../../nodes/configuring-nodes/ class>Configuring Nodes</a> </li> <li class> <a href=../../nodes/deploying-datasets/ class>Deploying Datasets</a> </li> <li class> <a href=../../nodes/training-plan-security-manager/ class>Training Plan Management</a> </li> <li class> <a href=../../nodes/using-gpu/ class>Using GPU</a> </li> <li class> <a href=../../nodes/node-gui/ class>Node GUI</a> </li> </ul> </li> <li data-adress=sub-1 class=has-sub-side> <div href class="parent-list "> Researcher <i class="bi bi-chevron-down"></i> </div> <ul class="sub-sidebar-menu sub "> <li class> <a href=../../researcher/training-plan/ class>Training Plan</a> </li> <li class> <a href=../../researcher/training-data/ class>Training Data</a> </li> <li class> <a href=../../researcher/experiment/ class>Experiment</a> </li> <li class> <a href=../../researcher/aggregation/ class>Aggregation</a> </li> <li class> <a href=../../researcher/listing-datasets-and-selecting-nodes/ class>Listing Datasets and Selecting Nodes</a> </li> <li class> <a href=../../researcher/model-testing-during-federated-training/ class>Model Validation on the Node Side</a> </li> <li class> <a href=../../researcher/tensorboard/ class>Tensorboard</a> </li> </ul> </li> <li class> <a href=../../advanced-optimization/ class>Optimization</a> </li> <li data-adress=sub-1 class=has-sub-side> <div href class="parent-list "> Secure Aggregation <i class="bi bi-chevron-down"></i> </div> <ul class="sub-sidebar-menu sub "> <li class> <a href=../../secagg/introduction/ class>Introduction</a> </li> <li class> <a href=../../secagg/configuration/ class>Configuration</a> </li> <li class> <a href=../../secagg/researcher-interface/ class>Managing Secure Aggregation in Researcher</a> </li> </ul> </li> </ul> </li> <li data-adress=sub-1 class=has-sub-side> <div href class="parent-list "> Developer <i class="bi bi-chevron-down"></i> </div> <ul class="sub-sidebar-menu sub "> <li data-adress=sub-1 class=has-sub-side> <div href class="parent-list "> API Reference <i class="bi bi-chevron-down"></i> </div> <ul class="sub-sidebar-menu sub "> <li data-adress=sub-1 class=has-sub-side> <div href class="parent-list "> Common <i class="bi bi-chevron-down"></i> </div> <ul class="sub-sidebar-menu sub "> <li class> <a href=../../../developer/api/common/certificate_manager/ class>Certificate Manager</a> </li> <li class> <a href=../../../developer/api/common/cli/ class>CLI</a> </li> <li class> <a href=../../../developer/api/common/config/ class>Config</a> </li> <li class> <a href=../../../developer/api/common/constants/ class>Constants</a> </li> <li class> <a class href=../../../developer/api/common/data.md>Data</a> </li> <li class> <a href=../../../developer/api/common/db/ class>DB</a> </li> <li class> <a href=../../../developer/api/common/exceptions/ class>Exceptions</a> </li> <li class> <a href=../../../developer/api/common/ipython/ class>IPython</a> </li> <li class> <a href=../../../developer/api/common/json/ class>Json</a> </li> <li class> <a href=../../../developer/api/common/logger/ class>Logger</a> </li> <li class> <a href=../../../developer/api/common/message/ class>Message</a> </li> <li class> <a href=../../../developer/api/common/metrics/ class>Metrics</a> </li> <li class> <a href=../../../developer/api/common/models/ class>Model</a> </li> <li class> <a class href=../../../developer/api/common/mpc_controller.md>MPC controller</a> </li> <li class> <a href=../../../developer/api/common/optimizers/ class>Optimizers</a> </li> <li class> <a href=../../../developer/api/common/privacy/ class>Privacy</a> </li> <li class> <a href=../../../developer/api/common/secagg/ class>Secagg</a> </li> <li class> <a href=../../../developer/api/common/secagg_manager/ class>Secagg Manager</a> </li> <li class> <a href=../../../developer/api/common/serializer/ class>Serializer</a> </li> <li class> <a href=../../../developer/api/common/singleton/ class>Singleton</a> </li> <li class> <a href=../../../developer/api/common/synchro/ class>Synchro</a> </li> <li class> <a href=../../../developer/api/common/tasks_queue/ class>TasksQueue</a> </li> <li class> <a href=../../../developer/api/common/training_plans/ class>TrainingPlans</a> </li> <li class> <a href=../../../developer/api/common/training_args/ class>TrainingArgs</a> </li> <li class> <a href=../../../developer/api/common/utils/ class>Utils</a> </li> <li class> <a href=../../../developer/api/common/validator/ class>Validator</a> </li> </ul> </li> <li data-adress=sub-1 class=has-sub-side> <div href class="parent-list "> Node <i class="bi bi-chevron-down"></i> </div> <ul class="sub-sidebar-menu sub "> <li class> <a href=../../../developer/api/node/cli/ class>CLI</a> </li> <li class> <a href=../../../developer/api/node/cli_utils/ class>CLI Utils</a> </li> <li class> <a href=../../../developer/api/node/config/ class>Config</a> </li> <li class> <a href=../../../developer/api/node/dataset_manager/ class>DatasetManager</a> </li> <li class> <a href=../../../developer/api/node/history_monitor/ class>HistoryMonitor</a> </li> <li class> <a href=../../../developer/api/node/node/ class>Node</a> </li> <li class> <a href=../../../developer/api/node/node_state_manager/ class>NodeStateManager</a> </li> <li class> <a href=../../../developer/api/node/requests/ class>Requests</a> </li> <li class> <a href=../../../developer/api/node/round/ class>Round</a> </li> <li class> <a href=../../../developer/api/node/secagg/ class>Secagg</a> </li> <li class> <a href=../../../developer/api/node/secagg_manager/ class>Secagg Manager</a> </li> <li class> <a href=../../../developer/api/node/training_plan_security_manager/ class>TrainingPlanSecurityManager</a> </li> </ul> </li> <li data-adress=sub-1 class=has-sub-side> <div href class="parent-list "> Researcher <i class="bi bi-chevron-down"></i> </div> <ul class="sub-sidebar-menu sub "> <li class> <a href=../../../developer/api/researcher/aggregators/ class>Aggregators</a> </li> <li class> <a href=../../../developer/api/researcher/cli/ class>CLI</a> </li> <li class> <a href=../../../developer/api/researcher/config/ class>Config</a> </li> <li class> <a href=../../../developer/api/researcher/datasets/ class>Datasets</a> </li> <li class> <a href=../../../developer/api/researcher/federated_workflows/ class>Federated Workflows</a> </li> <li class> <a href=../../../developer/api/researcher/filetools/ class>Filetools</a> </li> <li class> <a href=../../../developer/api/researcher/jobs/ class>Jobs</a> </li> <li class> <a href=../../../developer/api/researcher/monitor/ class>Monitor</a> </li> <li class> <a href=../../../developer/api/researcher/node_state_agent/ class>NodeStateAgent</a> </li> <li class> <a href=../../../developer/api/researcher/requests/ class>Requests</a> </li> <li class> <a href=../../../developer/api/researcher/secagg/ class>Secagg</a> </li> <li class> <a href=../../../developer/api/researcher/strategies/ class>Strategies</a> </li> </ul> </li> <li data-adress=sub-1 class=has-sub-side> <div href class="parent-list "> Transport <i class="bi bi-chevron-down"></i> </div> <ul class="sub-sidebar-menu sub "> <li class> <a href=../../../developer/api/transport/client/ class>Client</a> </li> <li class> <a href=../../../developer/api/transport/controller/ class>Controller</a> </li> <li class> <a href=../../../developer/api/transport/node_agent/ class>NodeAgent</a> </li> <li class> <a href=../../../developer/api/transport/server/ class>Server</a> </li> </ul> </li> </ul> </li> <li class> <a href=../../../developer/usage_and_tools/ class>Usage and Tools</a> </li> <li class> <a href=../../../developer/ci/ class>Continuous Integration</a> </li> <li class> <a href=../../../developer/definition-of-done/ class>Definition of Done</a> </li> <li class> <a href=../../../developer/development-environment/ class>Development Environment</a> </li> <li class> <a href=../../../developer/testing-in-fedbiomed/ class>Testing in Fed-BioMed</a> </li> <li class> <a href=../../../developer/messaging/ class>RPC Protocol and Messages</a> </li> </ul> </li> <li class> <a href=../../../support/troubleshooting/ class>FAQ & Troubleshooting</a> </li> </ul> </nav> </div> </div> <div class=main-col> <main class=main-docs> <article> <h1 id=using-nativedataset-in-federated-workflows>Using <code>NativeDataset</code> in Federated Workflows</h1> <h2 id=introduction>Introduction</h2> <p><code>NativeDataset</code> is the simplest way to use data that you do not want to register with the Node, and instead directly use with Fed-BioMed.</p> <p>It is designed for cases such as you have a pre-determined dataset, such as a Torch Dataset, a NumPy array or a Python list. The main difference from the <code>CustomDataset</code> class is that <code>NativeDataset</code> <strong>is not a wrapper for your subclass</strong>, as you don't need to write a subclass to use it. </p> <h2 id=principles>Principles</h2> <ul> <li><strong>Bring your own data object:</strong> Use any object that behaves like a dataset (e.g., a Torch <code>Dataset</code>, a NumPy array, or a Python list).</li> <li><strong>Provided in the <code>TrainingPlan</code>:</strong> You create/pass this object <strong>inside</strong> the <code>training_data</code> method via <code>DataManager</code>.</li> <li><strong>No filesystem contract:</strong> No <code>path</code> is required; <code>NativeDataset</code> assumes your data is already available to the process.</li> <li><strong>Supervised vs. unsupervised:</strong> </li> <li>If your data source returns <code>(data, target)</code> pairs (e.g., most Torch datasets), it's treated as <strong>supervised</strong>.</li> <li>If your source returns only <code>data</code> <strong>(unsupervised)</strong>, you should also provide a separate <code>target/label</code> sequence if your model needs labels.</li> </ul> <div class="admonition warning"> <p class=admonition-title>Unsupervised scenario</p> <p>In the <strong>unsupervised</strong> scenario, each item still return a tuple of <code>(data, None)</code>. Make sure your Model and your <code>training_step</code> function handles accordingly/</p> </div> <h2 id=where-nativedataset-fits-in-your-workflow>Where <code>NativeDataset</code> fits in your workflow</h2> <ol> <li><strong>Define your <code>TrainingPlan</code>.</strong></li> <li><strong>Inside</strong> its <code>training_data</code> method, construct your data object(s) (Torch dataset, NumPy arrays, or lists).</li> <li>Pass them to the <strong><code>DataManager</code></strong> that your plan returns.</li> <li>Fed-BioMed uses those objects for local training on the node.</li> </ol> <p>This approach is ideal when your data is already in memory, preprocessed, or supplied by another pipeline and you do not want the burden of additionally adding the dataset to your node.</p> <h2 id=supported-inputs-conceptually>Supported Inputs (Conceptually)</h2> <ul> <li><strong>PyTorch-style datasets</strong> that implement <code>__len__</code> and <code>__getitem__</code> and return <code>(data, target)</code> tuples.</li> <li><strong>NumPy arrays</strong>: feature matrix <code>X</code> and, optionally, a label vector/array <code>y</code> of the same length.</li> <li><strong>Python lists</strong>:</li> <li>A list of <code>(data, target)</code> tuples (supervised).</li> <li>A list of <code>data</code> items plus a separate label list/array (supervised).</li> <li>A list of <code>data</code> items (unsupervised tasks).</li> </ul> <h2 id=example-patterns>Example Patterns</h2> <p>Below are minimal, <strong>pattern-oriented</strong> examples showing how to pass native data inside <code>training_data</code>. These examples focus on structure and placement—adapt the variable names and preprocessing to your project. </p> <h3 id=a-using-a-pytorch-dataset>A) Using a PyTorch <code>Dataset</code></h3> <div class=highlight><pre><span></span><code><span class=c1># inside your TrainingPlan class</span>
<span class=k>def</span> <span class=nf>training_data</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
    <span class=kn>from</span> <span class=nn>torchvision</span> <span class=kn>import</span> <span class=n>datasets</span>

    <span class=c1># build dataset</span>
    <span class=n>ds</span> <span class=o>=</span> <span class=n>datasets</span><span class=o>.</span><span class=n>MNIST</span><span class=p>(</span><span class=n>tensor_x</span><span class=p>,</span> <span class=n>tensor_y</span><span class=p>)</span>

    <span class=c1># Provide directly to the DataManager as a &quot;native&quot; dataset</span>
    <span class=n>dm</span> <span class=o>=</span> <span class=n>DataManager</span><span class=p>(</span><span class=n>dataset</span><span class=o>=</span><span class=n>ds</span><span class=p>)</span>  <span class=c1># (API specifics documented elsewhere)</span>
    <span class=k>return</span> <span class=n>dm</span>
</code></pre></div> <h3 id=b-using-numpy-arrays>B) Using NumPy arrays</h3> <div class=highlight><pre><span></span><code><span class=c1># inside your TrainingPlan class</span>
<span class=k>def</span> <span class=nf>training_data</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
    <span class=c1># X: np.ndarray of features, y: np.ndarray of labels (same length)</span>
    <span class=c1># Ensure your model/training code expects NumPy-based batches</span>
    <span class=n>dm</span> <span class=o>=</span> <span class=n>DataManager</span><span class=p>(</span><span class=n>dataset</span><span class=o>=</span><span class=n>X</span><span class=p>,</span> <span class=n>target</span><span class=o>=</span><span class=n>y</span><span class=p>)</span>
    <span class=k>return</span> <span class=n>dm</span>
</code></pre></div> <h3 id=c-using-python-lists-of-pairs>C) Using Python lists of pairs</h3> <div class=highlight><pre><span></span><code><span class=c1># inside your TrainingPlan class</span>
<span class=k>def</span> <span class=nf>training_data</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
    <span class=c1># pairs: list of (data, target) tuples</span>
    <span class=n>pairs</span> <span class=o>=</span> <span class=p>[([</span><span class=mi>1</span><span class=p>,</span> <span class=mi>2</span><span class=p>,</span> <span class=mi>3</span><span class=p>],</span> <span class=mi>0</span><span class=p>),</span> <span class=p>([</span><span class=mi>0</span><span class=p>,</span> <span class=mi>1</span><span class=p>,</span> <span class=mi>0</span><span class=p>],</span> <span class=mi>1</span><span class=p>)]</span>
    <span class=n>dm</span> <span class=o>=</span> <span class=n>DataManager</span><span class=p>(</span><span class=n>dataset</span><span class=o>=</span><span class=n>pairs</span><span class=p>)</span>
    <span class=k>return</span> <span class=n>dm</span>
</code></pre></div> <h3 id=d-unsupervised-data-with-separate-targets-when-needed>D) Unsupervised data with separate targets (when needed)</h3> <div class=highlight><pre><span></span><code><span class=c1># inside your TrainingPlan class</span>
<span class=k>def</span> <span class=nf>training_data</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
    <span class=c1># data: list or np.ndarray of inputs</span>
    <span class=c1># y: labels provided separately; must match length of data</span>
    <span class=n>dm</span> <span class=o>=</span> <span class=n>DataManager</span><span class=p>(</span><span class=n>dataset</span><span class=o>=</span><span class=n>data</span><span class=p>,</span> <span class=n>target</span><span class=o>=</span><span class=n>y</span><span class=p>)</span>
    <span class=k>return</span> <span class=n>dm</span>
</code></pre></div> <h2 id=error-handling-validation-hints>Error Handling &amp; Validation Hints</h2> <ul> <li><strong>Length mismatches:</strong> If you provide a separate target sequence, its length must match the data length.</li> <li><strong>Type/shape mismatches:</strong> Ensure the provided data matches what your model and training step expects. </li> <li><strong>Unsupervised training:</strong> Ensure that your model and training step expects a tuple of <code>(data, None)</code> as a sample. </li> <li><strong>Item access failures:</strong> If your Torch-style dataset raises an error on indexing, fix it locally before integrating.</li> </ul> <div class="admonition note"> <p class=admonition-title>Develop locally, then federate</p> <p>Validate your native data object (and a small training loop) locally to catch shape, dtype, and batching issues early. Once it runs end-to-end, integrate it into your <code>TrainingPlan</code> and node workflow.</p> </div> <h2 id=best-practices>Best Practices</h2> <ul> <li><strong>Preprocess early:</strong> Apply tokenization, normalization, or feature engineering <em>before</em> passing the dataset to <code>DataManager</code>.</li> <li><strong>Keep items lightweight:</strong> If items are large, ensure batching works efficiently in your training loop.</li> <li><strong>Be explicit about labels:</strong> For supervised tasks, prefer sources that return <code>(data, target)</code> pairs to reduce errors.</li> </ul> <h2 id=summary>Summary</h2> <p><code>NativeDataset</code> streamlines federated training when your data is already prepared.</p> <p>Instead of implementing a new on-disk dataset class, simply provide your Torch dataset, NumPy arrays, or Python lists <strong>inside your <code>TrainingPlan</code></strong> through the <code>DataManager</code>. This keeps your workflow concise and focused on modeling, not I/O plumbing.</p> </article> </main> </div> <div class=right-col> <div id=right-sidebar class=sidebar-right> <nav class=toc> <!-- Render item list --> <label class=toc-title for=__toc> <span class=toc-icon></span> </label> <ul class=toc-list data-md-component=toc data-md-scrollfix> <!-- Table of contents item --> <li class=toc-item> <a href=#introduction class=md-nav__link> Introduction </a> </li> <!-- Table of contents item --> <li class=toc-item> <a href=#principles class=md-nav__link> Principles </a> </li> <!-- Table of contents item --> <li class=toc-item> <a href=#where-nativedataset-fits-in-your-workflow class=md-nav__link> Where NativeDataset fits in your workflow </a> </li> <!-- Table of contents item --> <li class=toc-item> <a href=#supported-inputs-conceptually class=md-nav__link> Supported Inputs (Conceptually) </a> </li> <!-- Table of contents item --> <li class=toc-item> <a href=#example-patterns class=md-nav__link> Example Patterns </a> <nav class=toc-nav aria-label="Example Patterns"> <ul class=toc-list> <!-- Table of contents item --> <li class=toc-item> <a href=#a-using-a-pytorch-dataset class=md-nav__link> A) Using a PyTorch Dataset </a> </li> <!-- Table of contents item --> <li class=toc-item> <a href=#b-using-numpy-arrays class=md-nav__link> B) Using NumPy arrays </a> </li> <!-- Table of contents item --> <li class=toc-item> <a href=#c-using-python-lists-of-pairs class=md-nav__link> C) Using Python lists of pairs </a> </li> <!-- Table of contents item --> <li class=toc-item> <a href=#d-unsupervised-data-with-separate-targets-when-needed class=md-nav__link> D) Unsupervised data with separate targets (when needed) </a> </li> </ul> </nav> </li> <!-- Table of contents item --> <li class=toc-item> <a href=#error-handling-validation-hints class=md-nav__link> Error Handling &amp; Validation Hints </a> </li> <!-- Table of contents item --> <li class=toc-item> <a href=#best-practices class=md-nav__link> Best Practices </a> </li> <!-- Table of contents item --> <li class=toc-item> <a href=#summary class=md-nav__link> Summary </a> </li> </ul> </nav> </div> </div> </div> </div> <!-- News Main Page--> </div> <footer> <div class=container-fluid> <div class=footer-first-inner> <div class=container> <div class=row> <div class=col-md-6> <div class=footer-contact> <strong>Address:</strong> <p>2004 Rte des Lucioles, 06902 Sophia Antipolis</p> <strong>E-mail:</strong> <p>fedbiomed _at_ inria _dot_ fr</p> </div> </div> <div class=col-md-6> <div class=footer-contact> <p>Fed-BioMed © 2022</p> </div> </div> </div> </div> </div> </div> </footer> <!-- JQuery --> <script src=https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js></script> <!-- Latest compiled and minified JavaScript --> <script src=https://stackpath.bootstrapcdn.com/bootstrap/3.4.1/js/bootstrap.min.js integrity=sha384-aJ21OjlMXNL5UyIl/XNwTMqvzeRMZH2w8c5cRVpzpU8Y5bApTppSuUkhZXN0VxHd crossorigin=anonymous></script> <script src=https://cdnjs.cloudflare.com/ajax/libs/tablesort/5.2.1/tablesort.min.js></script> <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script> <script src=https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js></script> <script src=../../../assets/javascript/lunr.js></script> <script src=../../../assets/javascript/theme.js></script> <!-- GitHub buttons --> <script async defer src=https://buttons.github.io/buttons.js></script> </body> </html>