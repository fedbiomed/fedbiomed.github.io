<!DOCTYPE html><html> <head><meta charset=UTF-8><meta name=viewport content="width=device-width, initial-scale=1"><meta name=robots context="index, archive"><!--  --><script>
      const versions_json = "../../../versions.json";
      const search_worker_js = "../../assets/javascript/search-worker.js";
      const search_index_json = "../../search/search_index.json";
      const base_url = '../..';
    </script><!-- Site title --><title>Development Environment - Fed-BioMed</title><link rel=icon type=image/x-icon href=../../favicon.ico><!-- Page description --><meta name=description content="Open, Transparent and Trusted Collaborative Learning for Real-world Healthcare Applications"><!-- Page keywords --><!-- Page author --><!-- Latest compiled and minified CSS --><link rel=stylesheet href=https://stackpath.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap.min.css integrity=sha384-HSMxcRTRxnN+Bdg0JdbxYKrThecOKuH5zCYotlSAcp1+c8xmyTe9GYg1l9a69psu crossorigin=anonymous><!-- Bootstrap Icons --><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/bootstrap-icons@1.5.0/font/bootstrap-icons.css><link href=../../assets/_mkdocstrings.css rel=stylesheet><link href=../../assets/css/style.css rel=stylesheet></head> <body> <header> <div class="container-fluid top-bar"> <div class=brand> <a href=/ > <img src=../../assets/img/fedbiomed-logo-small.png> </a> </div> <nav class=top> <ul> <li class> <a href=../..>Home</a> </li> <li class> <a href=../../getting-started/what-is-fedbiomed/ >User Documentation</a> </li> <li class> <a href=../../pages/about-us/ >About</a> </li> <li id=clicker class=has-sub> More <i class="bi bi-chevron-down"></i> <ul class=sub-nav-menu> <li class> <a href=../../#funding>Funding</a> </li> <li class> <a href=../../news/ >News</a> </li> <li class> <a href=../../#contributors>Contributors</a> </li> <li class> <a href=../../#users>Users</a> </li> <li class> <a href=../../pages/roadmap/ >Roadmap</a> </li> <li class> <a href=../../#citation>How to Cite Us</a> </li> <li class> <a href=../../#contact-us>Contact Us</a> </li> </ul> </li> </ul> </nav> </div> <div class="container-fluid top-bar-mobile"> <div class=mobile-bar> <div class=brand> <a href=../../ > <img src=../../assets/img/fedbiomed-logo-small.png> </a> </div> <div class=hum-menu> <img class=open src=../../assets/img/menu.svg> <img class=close style=display:none src=../../assets/img/cancel.svg> </div> </div> <nav class=top-mobile> <ul> <li class> <a href=../..>Home</a> </li> <li class> <a href=../../getting-started/what-is-fedbiomed/ >User Documentation</a> </li> <li class> <a href=../../pages/about-us/ >About</a> </li> <li id=clicker class=has-sub> More <i class="bi bi-chevron-down"></i> <ul class=sub-nav-menu> <li class> <a href=../../#funding>Funding</a> </li> <li class> <a href=../../news/ >News</a> </li> <li class> <a href=../../#contributors>Contributors</a> </li> <li class> <a href=../../#users>Users</a> </li> <li class> <a href=../../pages/roadmap/ >Roadmap</a> </li> <li class> <a href=../../#citation>How to Cite Us</a> </li> <li class> <a href=../../#contact-us>Contact Us</a> </li> </ul> </li> </ul> </nav> </div> </header> <div class=main> <!-- Home page --> <div class=container-fluid> <div class=doc-row> <div class=left-col> <div class=sidebar-doc> <nav class=sidebar-inner> <ul class="sidebar-menu-left sub"> <li data-adress=sub-1 class=has-sub-side> <div href class="parent-list "> Getting Started <i class="bi bi-chevron-down"></i> </div> <ul class="sub-sidebar-menu sub "> <li class> <a href=../../getting-started/what-is-fedbiomed/ class>What's Fed-BioMed</a> </li> <li class> <a href=../../getting-started/fedbiomed-architecture/ class>Fedbiomed Architecture</a> </li> <li class> <a href=../../getting-started/fedbiomed-workflow/ class>Fedbiomed Workflow</a> </li> <li class> <a href=../../getting-started/installation/ class>Installation</a> </li> <li class> <a href=../../getting-started/basic-example/ class>Basic Example</a> </li> <li class> <a href=../../getting-started/configuration/ class>Configuration</a> </li> </ul> </li> <li data-adress=sub-1 class=has-sub-side> <div href class="parent-list "> Tutorials <i class="bi bi-chevron-down"></i> </div> <ul class="sub-sidebar-menu sub "> <li data-adress=sub-1 class=has-sub-side> <div href class="parent-list "> PyTorch <i class="bi bi-chevron-down"></i> </div> <ul class="sub-sidebar-menu sub "> <li class> <a href=../../tutorials/pytorch/01_PyTorch_MNIST_Single_Node_Tutorial/ class>PyTorch MNIST Basic Example</a> </li> <li class> <a href=../../tutorials/pytorch/02_Create_Your_Custom_Training_Plan/ class>How to Create Your Custom PyTorch Training Plan</a> </li> <li class> <a href=../../tutorials/pytorch/03_PyTorch_Used_Cars_Dataset_Example/ class>PyTorch Used Cars Dataset Example</a> </li> <li class> <a href=../../tutorials/pytorch/05_Transfer-learning_tutorial_usingDenseNet-121/ class>Transfer-learning in Fed-BioMed tutorial</a> </li> <li class> <a href=../../tutorials/pytorch/04-Aggregation_in_Fed-BioMed/ class>PyTorch aggregation methods in Fed-BioMed</a> </li> </ul> </li> <li data-adress=sub-1 class=has-sub-side> <div href class="parent-list "> MONAI <i class="bi bi-chevron-down"></i> </div> <ul class="sub-sidebar-menu sub "> <li class> <a href=../../tutorials/monai/01_monai-2d-image-classification/ class>Federated 2d image classification with MONAI</a> </li> <li class> <a href=../../tutorials/monai/02_monai-2d-image-registration/ class>Federated 2d XRay registration with MONAI</a> </li> </ul> </li> <li data-adress=sub-1 class=has-sub-side> <div href class="parent-list "> Scikit-Learn <i class="bi bi-chevron-down"></i> </div> <ul class="sub-sidebar-menu sub "> <li class> <a href=../../tutorials/scikit-learn/01_sklearn_MNIST_classification_tutorial/ class>MNIST classification with Scikit-Learn Classifier (Perceptron)</a> </li> <li class> <a href=../../tutorials/scikit-learn/02_sklearn_sgd_regressor_tutorial/ class>Fed-BioMed to train a federated SGD regressor model</a> </li> <li class> <a href=../../tutorials/scikit-learn/03-other-scikit-learn-models/ class>Implementing other Scikit Learn models for Federated Learning</a> </li> </ul> </li> <li data-adress=sub-1 class=has-sub-side> <div href class="parent-list "> Optimizers <i class="bi bi-chevron-down"></i> </div> <ul class="sub-sidebar-menu sub "> <li class> <a href=../../tutorials/optimizers/01-fedopt-and-scaffold/ class>Advanced optimizers in Fed-BioMed</a> </li> </ul> </li> <li data-adress=sub-1 class=has-sub-side> <div href class="parent-list "> FLamby <i class="bi bi-chevron-down"></i> </div> <ul class="sub-sidebar-menu sub "> <li class> <a href=../../tutorials/flamby/ class>Introduction</a> </li> <li class> <a href=../../tutorials/flamby/flamby-integration-into-fedbiomed/ class>FLamby in Fed-BioMed</a> </li> </ul> </li> <li data-adress=sub-1 class=has-sub-side> <div href class="parent-list "> Advanced <i class="bi bi-chevron-down"></i> </div> <ul class="sub-sidebar-menu sub "> <li class> <a href=../../tutorials/advanced/in-depth-experiment-configuration/ class>In Depth Experiment Configuration</a> </li> <li class> <a href=../../tutorials/advanced/training-with-gpu/ class>PyTorch model training using a GPU</a> </li> <li class> <a href=../../tutorials/advanced/breakpoints/ class>Breakpoints</a> </li> </ul> </li> <li data-adress=sub-1 class=has-sub-side> <div href class="parent-list "> Security <i class="bi bi-chevron-down"></i> </div> <ul class="sub-sidebar-menu sub "> <li class> <a href=../../tutorials/security/differential-privacy-with-opacus-on-fedbiomed/ class>Using Differential Privacy with OPACUS on Fed-BioMed</a> </li> <li class> <a href=../../tutorials/security/non-private-local-central-dp-monai-2d-image-registration/ class>Local and Central DP with Fed-BioMed: MONAI 2d image registration</a> </li> <li class> <a href=../../tutorials/security/training-with-approved-training-plans/ class>Training Process with Training Plan Management</a> </li> <li class> <a href=../../tutorials/security/secure-aggregation/ class>Training with Secure Aggregation</a> </li> <li class> <a href=../../tutorials/concrete-ml/concrete-ml/ class>End-to-end Privacy Preserving Training and Inference on Medical Data</a> </li> </ul> </li> <li data-adress=sub-1 class=has-sub-side> <div href class="parent-list "> Biomedical data <i class="bi bi-chevron-down"></i> </div> <ul class="sub-sidebar-menu sub "> <li class> <a href=../../tutorials/medical/medical-image-segmentation-unet-library/ class>Brain Segmentation</a> </li> </ul> </li> </ul> </li> <li data-adress=sub-1 class=has-sub-side> <div href class="parent-list "> User Guide <i class="bi bi-chevron-down"></i> </div> <ul class="sub-sidebar-menu sub "> <li class> <a href=../../user-guide/glossary/ class>Glossary</a> </li> <li data-adress=sub-1 class=has-sub-side> <div href class="parent-list "> Datasets <i class="bi bi-chevron-down"></i> </div> <ul class="sub-sidebar-menu sub "> <li class> <a href=../../user-guide/datasets/ class>Introduction</a> </li> <li class> <a href=../../user-guide/datasets/default-datasets/ class>Default Datasets</a> </li> <li class> <a href=../../user-guide/datasets/image-dataset/ class>Image Datasets</a> </li> <li class> <a href=../../user-guide/datasets/tabular-dataset/ class>Tabular Datasets</a> </li> <li class> <a href=../../user-guide/datasets/medical-folder-dataset/ class>Medical Datasets</a> </li> <li class> <a href=../../user-guide/datasets/custom-dataset/ class>Adding your Custom Dataset</a> </li> <li class> <a href=../../user-guide/datasets/native-dataset/ class>Adding a Native Dataset</a> </li> <li class> <a href=../../user-guide/datasets/applying-transformations/ class>Applying Transformations</a> </li> </ul> </li> <li data-adress=sub-1 class=has-sub-side> <div href class="parent-list "> Deployment <i class="bi bi-chevron-down"></i> </div> <ul class="sub-sidebar-menu sub "> <li class> <a href=../../user-guide/deployment/deployment/ class>Introduction</a> </li> <li class> <a href=../../user-guide/deployment/deployment-vpn/ class>VPN Deployment</a> </li> <li class> <a href=../../user-guide/deployment/matrix/ class>Network matrix</a> </li> <li class> <a href=../../user-guide/deployment/security-model/ class>Security model</a> </li> </ul> </li> <li data-adress=sub-1 class=has-sub-side> <div href class="parent-list "> Node <i class="bi bi-chevron-down"></i> </div> <ul class="sub-sidebar-menu sub "> <li class> <a href=../../user-guide/nodes/configuring-nodes/ class>Configuring Nodes</a> </li> <li class> <a href=../../user-guide/nodes/deploying-datasets/ class>Deploying Datasets</a> </li> <li class> <a href=../../user-guide/nodes/training-plan-security-manager/ class>Training Plan Management</a> </li> <li class> <a href=../../user-guide/nodes/using-gpu/ class>Using GPU</a> </li> <li class> <a href=../../user-guide/nodes/node-gui/ class>Node GUI</a> </li> </ul> </li> <li data-adress=sub-1 class=has-sub-side> <div href class="parent-list "> Researcher <i class="bi bi-chevron-down"></i> </div> <ul class="sub-sidebar-menu sub "> <li class> <a href=../../user-guide/researcher/training-plan/ class>Training Plan</a> </li> <li class> <a href=../../user-guide/researcher/training-data/ class>Training Data</a> </li> <li class> <a href=../../user-guide/researcher/experiment/ class>Experiment</a> </li> <li class> <a href=../../user-guide/researcher/aggregation/ class>Aggregation</a> </li> <li class> <a href=../../user-guide/researcher/listing-datasets-and-selecting-nodes/ class>Listing Datasets and Selecting Nodes</a> </li> <li class> <a href=../../user-guide/researcher/model-testing-during-federated-training/ class>Model Validation on the Node Side</a> </li> <li class> <a href=../../user-guide/researcher/tensorboard/ class>Tensorboard</a> </li> </ul> </li> <li class> <a href=../../user-guide/advanced-optimization/ class>Optimization</a> </li> <li data-adress=sub-1 class=has-sub-side> <div href class="parent-list "> Secure Aggregation <i class="bi bi-chevron-down"></i> </div> <ul class="sub-sidebar-menu sub "> <li class> <a href=../../user-guide/secagg/introduction/ class>Introduction</a> </li> <li class> <a href=../../user-guide/secagg/configuration/ class>Configuration</a> </li> <li class> <a href=../../user-guide/secagg/researcher-interface/ class>Managing Secure Aggregation in Researcher</a> </li> </ul> </li> </ul> </li> <li data-adress=sub-1 class="current has-sub-side"> <div href class="parent-list current "> Developer <i class="bi bi-chevron-down"></i> </div> <ul class="sub-sidebar-menu sub active "> <li data-adress=sub-1 class=has-sub-side> <div href class="parent-list "> API Reference <i class="bi bi-chevron-down"></i> </div> <ul class="sub-sidebar-menu sub "> <li data-adress=sub-1 class=has-sub-side> <div href class="parent-list "> Common <i class="bi bi-chevron-down"></i> </div> <ul class="sub-sidebar-menu sub "> <li class> <a href=../api/common/certificate_manager/ class>Certificate Manager</a> </li> <li class> <a href=../api/common/cli/ class>CLI</a> </li> <li class> <a href=../api/common/config/ class>Config</a> </li> <li class> <a href=../api/common/constants/ class>Constants</a> </li> <li class> <a class href=../api/common/data.md>Data</a> </li> <li class> <a href=../api/common/db/ class>DB</a> </li> <li class> <a href=../api/common/exceptions/ class>Exceptions</a> </li> <li class> <a href=../api/common/ipython/ class>IPython</a> </li> <li class> <a href=../api/common/json/ class>Json</a> </li> <li class> <a href=../api/common/logger/ class>Logger</a> </li> <li class> <a href=../api/common/message/ class>Message</a> </li> <li class> <a href=../api/common/metrics/ class>Metrics</a> </li> <li class> <a href=../api/common/models/ class>Model</a> </li> <li class> <a class href=../api/common/mpc_controller.md>MPC controller</a> </li> <li class> <a href=../api/common/optimizers/ class>Optimizers</a> </li> <li class> <a href=../api/common/privacy/ class>Privacy</a> </li> <li class> <a href=../api/common/secagg/ class>Secagg</a> </li> <li class> <a href=../api/common/secagg_manager/ class>Secagg Manager</a> </li> <li class> <a href=../api/common/serializer/ class>Serializer</a> </li> <li class> <a href=../api/common/singleton/ class>Singleton</a> </li> <li class> <a href=../api/common/synchro/ class>Synchro</a> </li> <li class> <a href=../api/common/tasks_queue/ class>TasksQueue</a> </li> <li class> <a href=../api/common/training_plans/ class>TrainingPlans</a> </li> <li class> <a href=../api/common/training_args/ class>TrainingArgs</a> </li> <li class> <a href=../api/common/utils/ class>Utils</a> </li> <li class> <a href=../api/common/validator/ class>Validator</a> </li> </ul> </li> <li data-adress=sub-1 class=has-sub-side> <div href class="parent-list "> Node <i class="bi bi-chevron-down"></i> </div> <ul class="sub-sidebar-menu sub "> <li class> <a href=../api/node/cli/ class>CLI</a> </li> <li class> <a href=../api/node/cli_utils/ class>CLI Utils</a> </li> <li class> <a href=../api/node/config/ class>Config</a> </li> <li class> <a href=../api/node/dataset_manager/ class>DatasetManager</a> </li> <li class> <a href=../api/node/history_monitor/ class>HistoryMonitor</a> </li> <li class> <a href=../api/node/node/ class>Node</a> </li> <li class> <a href=../api/node/node_state_manager/ class>NodeStateManager</a> </li> <li class> <a href=../api/node/requests/ class>Requests</a> </li> <li class> <a href=../api/node/round/ class>Round</a> </li> <li class> <a href=../api/node/secagg/ class>Secagg</a> </li> <li class> <a href=../api/node/secagg_manager/ class>Secagg Manager</a> </li> <li class> <a href=../api/node/training_plan_security_manager/ class>TrainingPlanSecurityManager</a> </li> </ul> </li> <li data-adress=sub-1 class=has-sub-side> <div href class="parent-list "> Researcher <i class="bi bi-chevron-down"></i> </div> <ul class="sub-sidebar-menu sub "> <li class> <a href=../api/researcher/aggregators/ class>Aggregators</a> </li> <li class> <a href=../api/researcher/cli/ class>CLI</a> </li> <li class> <a href=../api/researcher/config/ class>Config</a> </li> <li class> <a href=../api/researcher/datasets/ class>Datasets</a> </li> <li class> <a href=../api/researcher/federated_workflows/ class>Federated Workflows</a> </li> <li class> <a href=../api/researcher/filetools/ class>Filetools</a> </li> <li class> <a href=../api/researcher/jobs/ class>Jobs</a> </li> <li class> <a href=../api/researcher/monitor/ class>Monitor</a> </li> <li class> <a href=../api/researcher/node_state_agent/ class>NodeStateAgent</a> </li> <li class> <a href=../api/researcher/requests/ class>Requests</a> </li> <li class> <a href=../api/researcher/secagg/ class>Secagg</a> </li> <li class> <a href=../api/researcher/strategies/ class>Strategies</a> </li> </ul> </li> <li data-adress=sub-1 class=has-sub-side> <div href class="parent-list "> Transport <i class="bi bi-chevron-down"></i> </div> <ul class="sub-sidebar-menu sub "> <li class> <a href=../api/transport/client/ class>Client</a> </li> <li class> <a href=../api/transport/controller/ class>Controller</a> </li> <li class> <a href=../api/transport/node_agent/ class>NodeAgent</a> </li> <li class> <a href=../api/transport/server/ class>Server</a> </li> </ul> </li> </ul> </li> <li class> <a href=../usage_and_tools/ class>Usage and Tools</a> </li> <li class> <a href=../ci/ class>Continuous Integration</a> </li> <li class> <a href=../definition-of-done/ class>Definition of Done</a> </li> <li class=current> <a href=./ class="link current">Development Environment</a> </li> <li class> <a href=../testing-in-fedbiomed/ class>Testing in Fed-BioMed</a> </li> <li class> <a href=../messaging/ class>RPC Protocol and Messages</a> </li> </ul> </li> <li class> <a href=../../support/troubleshooting/ class>FAQ & Troubleshooting</a> </li> </ul> </nav> </div> </div> <div class=main-col> <main class=main-docs> <article> <h1 id=configuring-development-environment>Configuring Development Environment</h1> <p>This article is written to guide developers to create development environment. This guide can also be used to build Fed-BioMed software from its source.</p> <p>This article will guide you to:</p> <ul> <li>Clone Fed-BioMed source repository.</li> <li>Setup a recommended tool to manage different Python versions.</li> <li>Setup some optional tools to manage isolated python environments such as <code>conda</code> and <code>virtualenv</code>.</li> <li>Setup pdm to manage dependencies and build operations, and it usage.</li> </ul> <h2 id=clone-the-repository>Clone the repository</h2> <p>The first step is to clone the repository please go to <a href=https://github.com/fedbiomed/fedbiomed>Fed-BioMed GitHub Repository</a> and clone it your local environment.</p> <div class=highlight><pre><span></span><code>git clone git@github.com:fedbiomed/fedbiomed.git &lt;path-to-clone&gt;
cd &lt;path-to-clone&gt;
</code></pre></div> <h2 id=compatible-python-version>Compatible Python version</h2> <p>Before you start using Fed-BioMed or developing on Fed-BioMed please make sure that required Python version is installed on your machine. Please go to <code>pyproject.toml</code> file located in the root of Fed-BioMed clone, and check the required Python version interval.</p> <div class="admonition note"> <p class=admonition-title>Tool for different Python version</p> <p>You can use the tool <code>pyenv</code> to be able to install specific Python versions into your local environment <div class=highlight><pre><span></span><code>pyenv install 3.11
pyenv global 3.11
</code></pre></div></p> <p>The code above will install latest Python 3.11, and activate this version globally for your machine.</p> </div> <h2 id=install-recommended-tools-to-manage-development-environment>Install recommended tools to manage development environment</h2> <h3 id=use-a-virtual-environments-to-manage-dependencies>Use a virtual environments to manage dependencies</h3> <p>Using virtual environments will allow you to isolate your Fed-BioMed development environment from your other projects. There, you have of course several options. You can use built-in python <code>venv</code> or <code>conda</code> or any other compatible Python virtual environment tools.</p> <p>While <code>conda</code> also allows installing a specified Python version, <code>venv</code> requires that Python and Pip are already installed. Therefore, if <code>conda</code> is used, additional tools like <code>pyenv</code> are not necessary for managing Python versions. However, if <code>venv</code> is preferred, using tools like <code>pyenv</code> to install the required Python version is recommended.</p> <h4 id=case-venv>Case: venv</h4> <p>The advantage of <code>venv</code> is that it keeps all project dependencies within your project folder and is part of <code>python</code> standard library. Please go to Fed-BioMed project root (Fed-BioMed) clone and execute following command.</p> <div class=highlight><pre><span></span><code>cd &lt;path-to-fedbiomed-clone&gt;
python -m venv ./dev-env
</code></pre></div> <p>The command above will generate <code>dev-env</code> folder in the project folder where all the project dependencies are kept.</p> <p>To activate the environment you can execute the following command from project root directory.</p> <div class=highlight><pre><span></span><code>source dev-env/bin/activate
</code></pre></div> <p>You can also use default naming convention <code>.venv</code> for virtual environment name.</p> <h4 id=case-conda>Case: Conda</h4> <p><code>conda</code> can install Python version directly in the environment that is created. The command below will create a virtual environment and install the specified Python version.</p> <div class=highlight><pre><span></span><code>conda create --name fedbiomed-dev python=3.10
conda activate fedbiomed-dev
</code></pre></div> <h3 id=install-pdm>Install Pdm</h3> <p>Once virtual environments are set <code>PDM</code> package manager can be installed via <code>PyPI</code>. It is also possible to install <code>PDM</code> globally for the Python version that is activated or base <code>conda</code> environment if <code>conda</code> is preferred as virtual environment manager.</p> <div class=highlight><pre><span></span><code>pip install pdm
</code></pre></div> <p>The command above will install PDM in the active <code>conda</code> environment or in active <code>pyenv</code> if it is used for managing Python versions.</p> <h3 id=nodejs-and-yarn>NodeJS and yarn</h3> <p>Fed-BioMed Node GUI uses the ReactJS library for web development. The ReactJS application for the Fed-BioMed Node GUI requires <code>Node.js</code> and <code>Yarn</code> to be installed, both for development and to enable automatic building during the creation of the Fed-BioMed package.</p> <p>Therefore, it is essential to have Node.js and Yarn installed on your system. Please follow the installation instructions for your operating system to install <a href=https://nodejs.org/en/download>Node.js</a> and <a href=https://classic.yarnpkg.com/en/ >Yarn</a>.</p> <h2 id=using-pdm>Using PDM</h2> <p>PDM is a tool to manage dependencies of a Python project, and build the python package:</p> <ul> <li>from <code>pyproject.toml</code> containing package source configuration, that is to say explicit instructions for build settings and dependencies</li> <li>from <code>pdm.lock</code> containing package locked cache version, that is to say a precise resolution of the configuration in <code>pyproject.toml</code> Both are located in the root directory of the project.</li> </ul> <p>Once PDM is installed, dependencies can be installed through the following command. It uses the existing <code>pdm.lock</code> to install dependencies for all Fed-BioMed components:</p> <div class=highlight><pre><span></span><code>pdm install
</code></pre></div> <p>This command will automatically detect the environment that used currently and install all dependencies in it. For example, if conda env is activated and there is no <code>.venv</code> folder in root directory of the project, all dependencies will be installed within the <code>conda</code> environment. However, if another virtual environment is activated, or if <code>.venv</code> folder is existing PDM will install dependencies within that environment.</p> <p>If there is no virtual environment activated pdm will create a default virtual environment using python's <code>virtualenv</code> in <code>.venv</code></p> <p>To install dependencies for only some Fed-BioMed component (from <code>researcher</code>, <code>gui</code>, <code>node</code>) use:</p> <div class=highlight><pre><span></span><code>pdm install -G researcher
</code></pre></div> <h3 id=re-generate-pdmlock>Re-generate <code>pdm.lock</code></h3> <p>For some reason you may want to remove and re-generate a new <code>pdm.lock</code>.</p> <p>If there is no <code>pdm.lock</code> lock file when running <code>pdm install</code>, it first resolves all the dependencies defined in <code>pyproject.toml</code> and create a <code>pdm.lock</code> lock file.</p> <p>If running <code>pdm lock</code> it only generates a new lock file, but does not perform the installation.</p> <div class="admonition warning"> <p class=admonition-title>Important</p> <p>By default, the optional packages are not included in generated the <code>pdm.lock</code> file. These optional packages contain dependencies specific to each Fed-BioMed component. Use <code>pdm install -G :all</code> or <code>pdm install -G researcher,node,gui</code> or <code>pdm lock -G :all</code> to generate lockfile with dependencies for all components.</p> </div> <p>There are also other installation options such selection of specific groups or extra dependencies. Please see <code>pdm install --help</code> and <code>pyproject.toml</code> file for more information.</p> <h3 id=what-about-instant-changes-in-source-code>What about instant changes in source code?</h3> <p>PDM automatically adds package source to your environment that makes <code>fedbiomed</code> module accessible from Python interpreter. It also handles instant changes in the source code. If a new module is added or a module is edited PDM will automatically make changes available within the environment currently used. It means there is no need to install or rebuild <code>fedbiomed</code> package.</p> <div class="admonition warning"> <p class=admonition-title>Important</p> <p>You should never install <code>fedbiomed</code> from <code>pip</code> in your development environment. This may interrupt to access current source code changes in your development environment.</p> </div> <h3 id=add-new-module>Add new module</h3> <p>New packages can be added through <code>pyproject.toml</code>, or using the command <code>pdm add</code>. Please see <code>pdm add --help</code> for detailed usage instructions.</p> <p>Once a new package added via <code>pyproject.toml</code> it may be required to run <code>pdm lock -G :all</code> to resolve the dependencies, then, execute <code>pdm install</code> to update packages and install missing ones.</p> <h3 id=for-more>For more</h3> <p>Please visit <code>pdm</code> documentation for more information and usage details.</p> <h2 id=post-actions>Post actions</h2> <p>To verify your installation please run <code>pytest tests</code> and <code>tox -r</code> to make sure there is no missing module in your environment.</p> <h2 id=developmentdebugging-for-gui>Development/Debugging for GUI</h2> <p>If you want to customize or work on user interface for debugging purposes, it is always better to use ReactJS in development mode, otherwise building GUI after every update will take a lot of time. To launch user interface in development mode first you need to start Flask server. This can be easily done with the previous start command. Currently, Flask server always get started on development mode. To enable debug mode you should add <code>--debug</code> flag to the start command.</p> <div class=highlight><pre><span></span><code><span class=c1># data folder defaults to `/path/to/my-node/data`</span>
fedbiomed<span class=w> </span>node<span class=w> </span>-p<span class=w> </span>/path/to/my-node<span class=w> </span>gui<span class=w> </span>start<span class=w> </span>--debug

<span class=c1># Or use an alternate data path </span>
<span class=c1># fedbiomed node -p /path/to/my-node gui start --data-folder /alternate/data-path --debug</span>
</code></pre></div> <p><strong>Important:</strong> Please do not change Flask port and host while starting it for development purposes. Because React (UI) will be calling <code>localhost:8484/api</code> endpoint in development mode.</p> <p>The command above will serve the web application and the API services. It means that on the URL <code>localhost:8484</code> you will be able to see the user interface. This user interface won't be updated automatically because it is already built. To have dynamic update for user interface you can start React with <code>yarn start</code>.</p> <div class=highlight><pre><span></span><code><span class=c1># use the python environment for [development](../docs/developer/development-environment.md)</span>
<span class=nb>cd</span><span class=w> </span><span class=si>${</span><span class=nv>FEDBIOMED_DIR</span><span class=si>}</span>/gui/ui
yarn<span class=w> </span>start
</code></pre></div> <p>After that if you go <code>localhost:3000</code> you will see same user interface is up and running for development. When you change the source codes in <code>${FEDBIOMED_DIR}/gui/ui/src</code> it will get dynamically updated on <code>localhost:3000</code>.</p> <p>Since Flask is already started in debug mode, you can do your development/update/changes for server side (Flask) in <code>${FEDBIOMED_DIR}/gui/server</code>. React part (ui) on development mode will call API endpoint from <code>localhost:8484</code>, this is why first you should start Flask server first.</p> <p>After development/debugging is done. To update changes in built GUI, you need rebuild the React app. Afterwards, you will be able to see changes on the <code>localhost:8484</code> URL which serve built UI files.</p> <div class=highlight><pre><span></span><code>yarn<span class=w> </span>build
fedbiomed<span class=w> </span>node<span class=w> </span>gui<span class=w> </span>start
</code></pre></div> <h2 id=troubleshooting>Troubleshooting</h2> <p>You may encounter some common issues during installation or after the installation due to some missing packages. Please visit <a href=../../support/troubleshooting/ >troubleshooting</a> dedicated page for common issues.</p> <h3 id=error-on-macosubuntu-regarding-pyenv-usage>Error on MacOS/Ubuntu regarding <code>pyenv</code> usage:</h3> <ul> <li> <p><strong><code>_lzma</code> module not found</strong></p> <ul> <li> <p>If you are using <strong>MacOS</strong> and installing Python versions through <code>pyenv</code> you may have some missing packages in your environment. <code>ModuleNotFoundError: No module named '_lzma'</code> is one of them. If you faced this error please install <code>brew install xz</code>, and reinstall python version <code>pyenv install &lt;version&gt;</code>.</p> </li> <li> <p>If you are using <strong>Ubuntu</strong> or <strong>Debian based OS</strong>, and install python through <code>pyenv</code>, and get <code>ModuleNotFoundError: No module named '_lzma'</code> This could be fixed by using <div class=highlight><pre><span></span><code>sudo<span class=w> </span>apt<span class=w> </span>install<span class=w> </span>liblzma-dev
</code></pre></div></p> </li> <li><strong>Other issues</strong></li> <li>For other issues, <code>pyenv</code> comes with an utility <a href=https://github.com/pyenv/pyenv-doctor><code>pyenv-doctor</code></a>, made for checking <code>pyenv</code> installation and dependencies, and can be run with: <code>pyenv doctor</code>. It will try to find the issue with your installation and proposes appropriate solutions to your issue.</li> </ul> <p>More troubleshooting for <code>pyenv</code> can be found <a href=https://github.com/pyenv/pyenv/wiki#suggested-build-environment>here</a>.</p> </li> </ul> <h3 id=building-fed-biomed-takes-too-long>Building Fed-BioMed Takes too Long</h3> <p>Some static files located in the root Fed-BioMed source directory (e.g., notebooks, tests, etc.) are also included in the final distribution. Therefore, having large data files or artifacts left from operations for testing and development purposes can increase the loading time. Please ensure that such data files are cleared before building the Fed-BioMed package to reduce build time.</p> </article> </main> </div> <div class=right-col> <div id=right-sidebar class=sidebar-right> <nav class=toc> <!-- Render item list --> <label class=toc-title for=__toc> <span class=toc-icon></span> </label> <ul class=toc-list data-md-component=toc data-md-scrollfix> <!-- Table of contents item --> <li class=toc-item> <a href=#clone-the-repository class=md-nav__link> Clone the repository </a> </li> <!-- Table of contents item --> <li class=toc-item> <a href=#compatible-python-version class=md-nav__link> Compatible Python version </a> </li> <!-- Table of contents item --> <li class=toc-item> <a href=#install-recommended-tools-to-manage-development-environment class=md-nav__link> Install recommended tools to manage development environment </a> <nav class=toc-nav aria-label="Install recommended tools to manage development environment"> <ul class=toc-list> <!-- Table of contents item --> <li class=toc-item> <a href=#use-a-virtual-environments-to-manage-dependencies class=md-nav__link> Use a virtual environments to manage dependencies </a> <nav class=toc-nav aria-label="Use a virtual environments to manage dependencies"> <ul class=toc-list> <!-- Table of contents item --> <li class=toc-item> <a href=#case-venv class=md-nav__link> Case: venv </a> </li> <!-- Table of contents item --> <li class=toc-item> <a href=#case-conda class=md-nav__link> Case: Conda </a> </li> </ul> </nav> </li> <!-- Table of contents item --> <li class=toc-item> <a href=#install-pdm class=md-nav__link> Install Pdm </a> </li> <!-- Table of contents item --> <li class=toc-item> <a href=#nodejs-and-yarn class=md-nav__link> NodeJS and yarn </a> </li> </ul> </nav> </li> <!-- Table of contents item --> <li class=toc-item> <a href=#using-pdm class=md-nav__link> Using PDM </a> <nav class=toc-nav aria-label="Using PDM"> <ul class=toc-list> <!-- Table of contents item --> <li class=toc-item> <a href=#re-generate-pdmlock class=md-nav__link> Re-generate pdm.lock </a> </li> <!-- Table of contents item --> <li class=toc-item> <a href=#what-about-instant-changes-in-source-code class=md-nav__link> What about instant changes in source code? </a> </li> <!-- Table of contents item --> <li class=toc-item> <a href=#add-new-module class=md-nav__link> Add new module </a> </li> <!-- Table of contents item --> <li class=toc-item> <a href=#for-more class=md-nav__link> For more </a> </li> </ul> </nav> </li> <!-- Table of contents item --> <li class=toc-item> <a href=#post-actions class=md-nav__link> Post actions </a> </li> <!-- Table of contents item --> <li class=toc-item> <a href=#developmentdebugging-for-gui class=md-nav__link> Development/Debugging for GUI </a> </li> <!-- Table of contents item --> <li class=toc-item> <a href=#troubleshooting class=md-nav__link> Troubleshooting </a> <nav class=toc-nav aria-label=Troubleshooting> <ul class=toc-list> <!-- Table of contents item --> <li class=toc-item> <a href=#error-on-macosubuntu-regarding-pyenv-usage class=md-nav__link> Error on MacOS/Ubuntu regarding pyenv usage: </a> </li> <!-- Table of contents item --> <li class=toc-item> <a href=#building-fed-biomed-takes-too-long class=md-nav__link> Building Fed-BioMed Takes too Long </a> </li> </ul> </nav> </li> </ul> </nav> </div> </div> </div> </div> <!-- News Main Page--> </div> <footer> <div class=container-fluid> <div class=footer-first-inner> <div class=container> <div class=row> <div class=col-md-6> <div class=footer-contact> <strong>Address:</strong> <p>2004 Rte des Lucioles, 06902 Sophia Antipolis</p> <strong>E-mail:</strong> <p>fedbiomed _at_ inria _dot_ fr</p> </div> </div> <div class=col-md-6> <div class=footer-contact> <p>Fed-BioMed Â© 2022</p> </div> </div> </div> </div> </div> </div> </footer> <!-- JQuery --> <script src=https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js></script> <!-- Latest compiled and minified JavaScript --> <script src=https://stackpath.bootstrapcdn.com/bootstrap/3.4.1/js/bootstrap.min.js integrity=sha384-aJ21OjlMXNL5UyIl/XNwTMqvzeRMZH2w8c5cRVpzpU8Y5bApTppSuUkhZXN0VxHd crossorigin=anonymous></script> <script src=https://cdnjs.cloudflare.com/ajax/libs/tablesort/5.2.1/tablesort.min.js></script> <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script> <script src=https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js></script> <script src=../../assets/javascript/lunr.js></script> <script src=../../assets/javascript/theme.js></script> <!-- GitHub buttons --> <script async defer src=https://buttons.github.io/buttons.js></script> </body> </html>