<!DOCTYPE html><html> <head><meta charset=UTF-8><meta name=viewport content="width=device-width, initial-scale=1"><!--  --><script>
      const versions_json = "../../../../versions.json";
      const search_worker_js = "../../../assets/javascript/search-worker.js";
      const search_index_json = "../../../search/search_index.json";
      const base_url = '../../..';
    </script><!-- Site title --><title>Setting up your Fed-BioMed environment - Fed-BioMed</title><link rel=icon type=image/x-icon href=../../../favicon.ico><!-- Page description --><meta name=description content="Installation tutorial for Fed-BioMed"><!-- Page keywords --><meta name=keywords content="Fed-BioMed, environment, setup"><!-- Page author --><!-- Latest compiled and minified CSS --><link rel=stylesheet href=https://stackpath.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap.min.css integrity=sha384-HSMxcRTRxnN+Bdg0JdbxYKrThecOKuH5zCYotlSAcp1+c8xmyTe9GYg1l9a69psu crossorigin=anonymous><!-- Bootstrap Icons --><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/bootstrap-icons@1.5.0/font/bootstrap-icons.css><link href=../../../assets/_mkdocstrings.css rel=stylesheet><link href=../../../assets/css/style.css rel=stylesheet></head> <body> <div class="container-fluid top-bar"> <div class=brand> <a href=/ > <img src=../../../assets/img/fedbiomed-logo-small.png> </a> </div> <nav class=top> <ul> <li class> <a href=../../..>Home</a> </li> <li class> <a href=../../../getting-started/what-is-fedbiomed/ >User Documentation</a> </li> <li class> <a href=../../../pages/about-us/ >About</a> </li> <li id=clicker class=has-sub> More <i class="bi bi-chevron-down"></i> <ul class=sub-nav-menu> <li class> <a href=../../../#funding>Funding</a> </li> <li class> <a href=../../../news/ >News</a> </li> <li class> <a href=../../../#contributors>Contributors</a> </li> <li class> <a href=../../../#users>Users</a> </li> <li class> <a href=../../../pages/roadmap/ >Roadmap</a> </li> <li class> <a href=../../../#contact-us>Contact Us</a> </li> </ul> </li> </ul> </nav> </div> <div class="container-fluid top-bar-mobile"> <div class=mobile-bar> <div class=brand> <a href=../../../ > <img src=../../../assets/img/fedbiomed-logo-small.png> </a> </div> <div class=hum-menu> <img class=open src=../../../assets/img/menu.svg> <img class=close style=display:none src=../../../assets/img/cancel.svg> </div> </div> <nav class=top-mobile> <ul> <li class> <a href=../../..>Home</a> </li> <li class> <a href=../../../getting-started/what-is-fedbiomed/ >User Documentation</a> </li> <li class> <a href=../../../pages/about-us/ >About</a> </li> <li id=clicker class=has-sub> More <i class="bi bi-chevron-down"></i> <ul class=sub-nav-menu> <li class> <a href=../../../#funding>Funding</a> </li> <li class> <a href=../../../news/ >News</a> </li> <li class> <a href=../../../#contributors>Contributors</a> </li> <li class> <a href=../../../#users>Users</a> </li> <li class> <a href=../../../pages/roadmap/ >Roadmap</a> </li> <li class> <a href=../../../#contact-us>Contact Us</a> </li> </ul> </li> </ul> </nav> </div> <div class=main> <!-- Home page --> <div class=container-fluid> <div class=doc-row> <div class=left-col> <div class=sidebar-doc> <div class=sidebar-inner> <ul class="sidebar-menu-left sub"> <li data-adress=sub-1 class=has-sub-side> <div href class="parent-list "> Getting Started <i class="bi bi-chevron-down"></i> </div> <ul class="sub-sidebar-menu sub "> <li class> <a href=../../../getting-started/what-is-fedbiomed/ class>What's Fed-BioMed</a> </li> <li class> <a href=../../../getting-started/getting-started/ class>Basic Example</a> </li> <li class> <a href=../../../getting-started/fedbiomed-architecture/ class>Fedbiomed Architecture</a> </li> <li class> <a href=../../../getting-started/fedbiomed-workflow/ class>Fedbiomed Workflow</a> </li> </ul> </li> <li data-adress=sub-1 class="current has-sub-side"> <div href class="parent-list current "> Tutorials <i class="bi bi-chevron-down"></i> </div> <ul class="sub-sidebar-menu sub active "> <li data-adress=sub-1 class="current has-sub-side"> <div href class="parent-list current "> Installation <i class="bi bi-chevron-down"></i> </div> <ul class="sub-sidebar-menu sub active "> <li class> <a href=../0-basic-software-installation/ class>Software Installation</a> </li> <li class=current> <a href=./ class="link current">Setting Up Environment</a> </li> </ul> </li> <li data-adress=sub-1 class=has-sub-side> <div href class="parent-list "> PyTorch <i class="bi bi-chevron-down"></i> </div> <ul class="sub-sidebar-menu sub "> <li class> <a href=../../pytorch/01_PyTorch_MNIST_Single_Node_Tutorial/ class>PyTorch MNIST Basic Example</a> </li> <li class> <a href=../../pytorch/02_Create_Your_Custom_Training_Plan/ class>How to Create Your Custom PyTorch Training Plan</a> </li> <li class> <a href=../../pytorch/03_PyTorch_MNIST_local_vs_Federated/ class>MNIST classification with PyTorch, comparing federated model vs model trained locally</a> </li> <li class> <a href=../../pytorch/04_PyTorch_Used_Cars_Dataset_Example/ class>PyTorch Used Cars Dataset Example</a> </li> <li class> <a href=../../pytorch/05-Aggregation_in_Fed-BioMed/ class>PyTorch aggregation methods in Fed-BioMed</a> </li> </ul> </li> <li data-adress=sub-1 class=has-sub-side> <div href class="parent-list "> MONAI <i class="bi bi-chevron-down"></i> </div> <ul class="sub-sidebar-menu sub "> <li class> <a href=../../monai/01_monai-2d-image-classification/ class>Federated 2d image classification with MONAI</a> </li> <li class> <a href=../../monai/02_monai-2d-image-registration/ class>Federated 2d XRay registration with MONAI</a> </li> </ul> </li> <li data-adress=sub-1 class=has-sub-side> <div href class="parent-list "> Scikit-Learn <i class="bi bi-chevron-down"></i> </div> <ul class="sub-sidebar-menu sub "> <li class> <a href=../../scikit-learn/01_sklearn_MNIST_classification_tutorial/ class>MNIST classification with Scikit-Learn Classifier (Perceptron)</a> </li> <li class> <a href=../../scikit-learn/02_sklearn_sgd_regressor_tutorial/ class>Fed-BioMed to train a federated SGD regressor model</a> </li> <li class> <a href=../../scikit-learn/03-other-scikit-learn-models/ class>Implementing other Scikit Learn models for Federated Learning</a> </li> </ul> </li> <li data-adress=sub-1 class=has-sub-side> <div href class="parent-list "> FLamby <i class="bi bi-chevron-down"></i> </div> <ul class="sub-sidebar-menu sub "> <li class> <a href=../../flamby/flamby/ class>General Concepts</a> </li> <li class> <a href=../../flamby/flamby-integration-into-fedbiomed/ class>FLamby integration in Fed-BioMed</a> </li> </ul> </li> <li data-adress=sub-1 class=has-sub-side> <div href class="parent-list "> Advanced <i class="bi bi-chevron-down"></i> </div> <ul class="sub-sidebar-menu sub "> <li class> <a href=../../advanced/in-depth-experiment-configuration/ class>In Depth Experiment Configuration</a> </li> <li class> <a href=../../advanced/training-with-gpu/ class>PyTorch model training using a GPU</a> </li> <li class> <a href=../../advanced/breakpoints/ class>Breakpoints</a> </li> </ul> </li> <li data-adress=sub-1 class=has-sub-side> <div href class="parent-list "> Security <i class="bi bi-chevron-down"></i> </div> <ul class="sub-sidebar-menu sub "> <li class> <a href=../../security/differential-privacy-with-opacus-on-fedbiomed/ class>Using Differential Privacy with OPACUS on Fed-BioMed</a> </li> <li class> <a href=../../security/non-private-local-central-dp-monai-2d-image-registration/ class>Local and Central DP with Fed-BioMed: MONAI 2d image registration</a> </li> <li class> <a href=../../security/training-with-approved-training-plans/ class>Training Process with Training Plan Management</a> </li> <li class> <a href=../../security/secure-aggregation/ class>Training with Secure Aggregation</a> </li> </ul> </li> <li data-adress=sub-1 class=has-sub-side> <div href class="parent-list "> Biomedical data <i class="bi bi-chevron-down"></i> </div> <ul class="sub-sidebar-menu sub "> <li class> <a href=../../medical/medical-image-segmentation-unet-library/ class>Brain Segmentation</a> </li> </ul> </li> </ul> </li> <li data-adress=sub-1 class=has-sub-side> <div href class="parent-list "> User Guide <i class="bi bi-chevron-down"></i> </div> <ul class="sub-sidebar-menu sub "> <li class> <a href=../../../user-guide/glossary/ class>Glossary</a> </li> <li data-adress=sub-1 class=has-sub-side> <div href class="parent-list "> Deployment <i class="bi bi-chevron-down"></i> </div> <ul class="sub-sidebar-menu sub "> <li class> <a href=../../../user-guide/deployment/deployment/ class>Introduction</a> </li> <li class> <a href=../../../user-guide/deployment/deployment-vpn/ class>VPN Deployment</a> </li> <li class> <a href=../../../user-guide/deployment/matrix/ class>Network matrix</a> </li> <li class> <a href=../../../user-guide/deployment/security-model/ class>Security model</a> </li> </ul> </li> <li data-adress=sub-1 class=has-sub-side> <div href class="parent-list "> Node <i class="bi bi-chevron-down"></i> </div> <ul class="sub-sidebar-menu sub "> <li class> <a href=../../../user-guide/nodes/configuring-nodes/ class>Configuring Nodes</a> </li> <li class> <a href=../../../user-guide/nodes/deploying-datasets/ class>Deploying Datasets</a> </li> <li class> <a href=../../../user-guide/nodes/training-plan-security-manager/ class>Training Plan Management</a> </li> <li class> <a href=../../../user-guide/nodes/using-gpu/ class>Using GPU</a> </li> <li class> <a href=../../../user-guide/nodes/node-gui/ class>Node GUI</a> </li> </ul> </li> <li data-adress=sub-1 class=has-sub-side> <div href class="parent-list "> Researcher <i class="bi bi-chevron-down"></i> </div> <ul class="sub-sidebar-menu sub "> <li class> <a href=../../../user-guide/researcher/training-plan/ class>Training Plan</a> </li> <li class> <a href=../../../user-guide/researcher/training-data/ class>Training Data</a> </li> <li class> <a href=../../../user-guide/researcher/experiment/ class>Experiment</a> </li> <li class> <a href=../../../user-guide/researcher/aggregation/ class>Aggregation</a> </li> <li class> <a href=../../../user-guide/researcher/listing-datasets-and-selecting-nodes/ class>Listing Datasets and Selecting Nodes</a> </li> <li class> <a href=../../../user-guide/researcher/model-testing-during-federated-training/ class>Model Validation on the Node Side</a> </li> <li class> <a href=../../../user-guide/researcher/tensorboard/ class>Tensorboard</a> </li> </ul> </li> <li data-adress=sub-1 class=has-sub-side> <div href class="parent-list "> Secure Aggregation <i class="bi bi-chevron-down"></i> </div> <ul class="sub-sidebar-menu sub "> <li class> <a href=../../../user-guide/secagg/introduction/ class>Introduction</a> </li> <li class> <a href=../../../user-guide/secagg/configuration/ class>Configuration</a> </li> <li class> <a href=../../../user-guide/secagg/certificate-registration/ class>Certificate Registration</a> </li> <li class> <a href=../../../user-guide/secagg/researcher-interface/ class>Managing Secure Aggregation in Researcher</a> </li> </ul> </li> </ul> </li> <li data-adress=sub-1 class=has-sub-side> <div href class="parent-list "> Developer <i class="bi bi-chevron-down"></i> </div> <ul class="sub-sidebar-menu sub "> <li data-adress=sub-1 class=has-sub-side> <div href class="parent-list "> API Reference <i class="bi bi-chevron-down"></i> </div> <ul class="sub-sidebar-menu sub "> <li data-adress=sub-1 class=has-sub-side> <div href class="parent-list "> Common <i class="bi bi-chevron-down"></i> </div> <ul class="sub-sidebar-menu sub "> <li class> <a href=../../../developer/api/common/constants/ class>Constants</a> </li> <li class> <a href=../../../developer/api/common/data/ class>Data</a> </li> <li class> <a href=../../../developer/api/common/environ/ class>Environ</a> </li> <li class> <a href=../../../developer/api/common/exceptions/ class>Exceptions</a> </li> <li class> <a href=../../../developer/api/common/json/ class>Json</a> </li> <li class> <a href=../../../developer/api/common/logger/ class>Logger</a> </li> <li class> <a href=../../../developer/api/common/message/ class>Message</a> </li> <li class> <a href=../../../developer/api/common/messaging/ class>Messaging</a> </li> <li class> <a href=../../../developer/api/common/models/ class>Model</a> </li> <li class> <a href=../../../developer/api/common/optimizer/ class>Optimizer</a> </li> <li class> <a href=../../../developer/api/common/repository/ class>Repository</a> </li> <li class> <a href=../../../developer/api/common/tasks_queue/ class>TasksQueue</a> </li> <li class> <a href=../../../developer/api/common/training_plans/ class>TrainingPlans</a> </li> <li class> <a href=../../../developer/api/common/training_args/ class>TrainingArgs</a> </li> <li class> <a href=../../../developer/api/common/utils/ class>Utils</a> </li> <li class> <a href=../../../developer/api/common/validator/ class>Validator</a> </li> </ul> </li> <li data-adress=sub-1 class=has-sub-side> <div href class="parent-list "> Node <i class="bi bi-chevron-down"></i> </div> <ul class="sub-sidebar-menu sub "> <li class> <a href=../../../developer/api/node/cli/ class>CLI</a> </li> <li class> <a href=../../../developer/api/node/dataset_manager/ class>DatasetManager</a> </li> <li class> <a href=../../../developer/api/node/node/ class>Node</a> </li> <li class> <a href=../../../developer/api/node/training_plan_security_manager/ class>TrainingPlanSecurityManager</a> </li> <li class> <a href=../../../developer/api/node/history_monitor/ class>HistoryMonitor</a> </li> <li class> <a href=../../../developer/api/node/round/ class>Round</a> </li> </ul> </li> <li data-adress=sub-1 class=has-sub-side> <div href class="parent-list "> Researcher <i class="bi bi-chevron-down"></i> </div> <ul class="sub-sidebar-menu sub "> <li class> <a href=../../../developer/api/researcher/aggregators/ class>Aggregators</a> </li> <li class> <a href=../../../developer/api/researcher/datasets/ class>Datasets</a> </li> <li class> <a href=../../../developer/api/researcher/experiment/ class>Experiment</a> </li> <li class> <a href=../../../developer/api/researcher/filetools/ class>Filetools</a> </li> <li class> <a href=../../../developer/api/researcher/job/ class>Job</a> </li> <li class> <a href=../../../developer/api/researcher/monitor/ class>Monitor</a> </li> <li class> <a href=../../../developer/api/researcher/responses/ class>Responses</a> </li> <li class> <a href=../../../developer/api/researcher/requests/ class>Requests</a> </li> <li class> <a href=../../../developer/api/researcher/strategies/ class>Strategies</a> </li> <li class> <a href=../../../developer/api/researcher/secagg/ class>Secagg</a> </li> </ul> </li> </ul> </li> <li class> <a href=../../../developer/usage_and_tools/ class>Usage and Tools</a> </li> <li class> <a href=../../../developer/ci/ class>Continuous Integration</a> </li> <li class> <a href=../../../developer/definition-of-done/ class>Definition of Done</a> </li> </ul> </li> </ul> </div> </div> </div> <div class=main-col> <div class=main-docs> <h1 id=set-up-your-fed-biomed-environment>Set up your Fed-BioMed environment</h1> <h2 id=a-word-on-fed-biomed-components>A word on Fed-BioMed components</h2> <p>A Fed-BioMed instance includes 3 types of components :</p> <ul> <li>the <code>network</code> which handles the communication between the nodes and the researcher. It is composed of a MQTT messaging server and a HTTP/REST file exchange server for the models and parameters</li> <li>one or more <code>nodes</code>, each one provides datasets for experiments and locally trains the models on these datasets</li> <li>the <code>researcher</code> which defines and orchestrates a federated learning experiment. The experiment looks for nodes providing expected datasets, selects nodes, sends nodes a model and initial parameters, requests nodes to locally train the model on datasets, collects local training output, federates the output to update aggregated parameters.</li> </ul> <p><code>nodes</code> and <code>researcher</code> compose the Fed-BioMed software, <code>network</code> are supporting services based on docker images.</p> <p>In this tutorial you learn how to launch Fed-BioMed components using the <code>fedbiomed_run</code> script.</p> <h2 id=launching-fed-biomed-components>Launching Fed-BioMed components</h2> <h3 id=network>Network</h3> <p>Network is the first Fed-BioMed component to launch, as it enables other components to communicate.</p> <p>Launch the network with : <div class=highlight><pre><span></span><code>$ ${FEDBIOMED_DIR}/scripts/fedbiomed_run network
</code></pre></div></p> <p>Check the mosquitto and fedbiomed-network containers are <code>Up</code> with :</p> <div class=highlight><pre><span></span><code>$<span class=w> </span>docker<span class=w> </span>container<span class=w> </span>ps
CONTAINER<span class=w> </span>ID<span class=w>  </span>IMAGE<span class=w>                 </span>COMMAND<span class=w>                </span>CREATED<span class=w>       </span>STATUS<span class=w>       </span>PORTS<span class=w>                                                                                </span>NAMES
954fda27350a<span class=w>  </span>fedbiomed/dev-restful<span class=w> </span><span class=s2>&quot;/entrypoint.sh&quot;</span><span class=w>       </span><span class=m>4</span><span class=w> </span>seconds<span class=w> </span>ago<span class=w> </span>Up<span class=w> </span><span class=m>3</span><span class=w> </span>seconds<span class=w> </span><span class=m>0</span>.0.0.0:8844-&gt;8000/tcp,<span class=w> </span>:::8844-&gt;8000/tcp<span class=w>                                            </span>fedbiomed-dev-restful
ff56256260b1<span class=w>  </span>eclipse-mosquitto<span class=w>     </span><span class=s2>&quot;/usr/sbin/mosquitto…&quot;</span><span class=w> </span><span class=m>4</span><span class=w> </span>seconds<span class=w> </span>ago<span class=w> </span>Up<span class=w> </span><span class=m>3</span><span class=w> </span>seconds<span class=w> </span><span class=m>0</span>.0.0.0:1883-&gt;1883/tcp,<span class=w> </span>:::1883-&gt;1883/tcp,<span class=w> </span><span class=m>0</span>.0.0.0:9001-&gt;9001/tcp,<span class=w> </span>:::9001-&gt;9001/tcp<span class=w> </span>fedbiomed-dev-mqtt
</code></pre></div> <h3 id=node>Node</h3> <p>Once the network is ready, one or more nodes shall be started and configured to provide datasets for the experiments.</p> <p>By default, a Fed-BioMed node does not provide any dataset to experiments. By adding one or more datasets to a node, you indicate which data a Fed-BioMed node provides to experiments for training future model.</p> <p>When you stop and restart a node, data sharing configuration is retained : previously added datasets remain available for next experiments.</p> <h4 id=starting-a-first-node>Starting a first node</h4> <p>Launch a node with : <div class=highlight><pre><span></span><code>$ ${FEDBIOMED_DIR}/scripts/fedbiomed_run node start
</code></pre></div></p> <p>You should get the following output;</p> <div class=highlight><pre><span></span><code>** Activating fedbiomed-node environment
Conda   env: fedbiomed-node
Python  env: /path/to/python/env/
MQTT   host: localhost
MQTT   port: 1883
UPLOADS url: http://localhost:8844/upload/
2022-01-06 11:40:43,303 fedbiomed INFO - Component environment:
2022-01-06 11:40:43,303 fedbiomed INFO - - type                             = ComponentType.NODE
2022-01-06 11:40:43,303 fedbiomed INFO - - training_plan_approval           = False
2022-01-06 11:40:43,303 fedbiomed INFO - - allow_default_training_plans     = True


   __         _ _     _                          _                   _
  / _|       | | |   (_)                        | |                 | |
 | |_ ___  __| | |__  _  ___  _ __ ___   ___  __| |  _ __   ___   __| | ___
 |  _/ _ \/ _` | &#39;_ \| |/ _ \| &#39;_ ` _ \ / _ \/ _` | | &#39;_ \ / _ \ / _` |/ _ \
 | ||  __/ (_| | |_) | | (_) | | | | | |  __/ (_| | | | | | (_) | (_| |  __/
 |_| \___|\__,_|_.__/|_|\___/|_| |_| |_|\___|\__,_| |_| |_|\___/ \__,_|\___|



    - 🆔 Your node ID: &lt;generated_node_id&gt;

2022-01-06 11:40:43,852 fedbiomed INFO - Node started as process with pid = 822849
To stop press Ctrl + C.
2022-01-06 11:40:43,853 fedbiomed INFO - Launching node...
2022-01-06 11:40:43,853 fedbiomed WARNING - Training plan approval for train request is not activated. This might cause security problems. Please, consider to enable training plan approval.
2022-01-06 11:40:43,853 fedbiomed INFO - Starting communication channel with network
2022-01-06 11:40:43,855 fedbiomed INFO - Messaging &lt;generated_node_id&gt; connected to the message broker, object = &lt;fedbiomed.common.messaging.Messaging object at 0x7ff6b39f3070&gt;
2022-01-06 11:40:43,866 fedbiomed DEBUG -  adding handler: MQTT
2022-01-06 11:40:43,866 fedbiomed INFO - Starting task manager
</code></pre></div> <h4 id=adding-data-to-node>Adding data to node</h4> <p>Starting a new node doesn't provide any data to Fed-BioMed experiments through the node. Adding a dataset is the process of indicating to a Fed-BioMed node which dataset you wish to make available for Fed-BioMed experiments through the node. Same datasets will be automatically provided at subsequent starts of the node.</p> <p>Begin adding a dataset to the node with this command : <div class=highlight><pre><span></span><code>$ ${FEDBIOMED_DIR}/scripts/fedbiomed_run node add
</code></pre></div></p> <p>The command then asks you the type of dataset to add to the node :</p> <div class=highlight><pre><span></span><code>Welcome to the Fed-BioMed CLI data manager
Please select the data type that you&#39;re configuring:
       1) csv
       2) default
       3) images
select:
</code></pre></div> <p>Choose <code>2) default</code> to download the MNIST dataset and add it to the node. Other options allow you to add custom datasets formatted as CSV files or image banks.</p> <p>The command then asks for the tags that the node uses to advertise datasets to experiments :</p> <div class=highlight><pre><span></span><code>MNIST will be added with tags [&#39;#MNIST&#39;, &#39;#dataset&#39;] [y/N]
</code></pre></div> <p>Choose <code>y</code> to confirm proposed default tags.</p> <p>A file browser opens : select the folder where you want to save the downloaded MNIST dataset. If you re-use the same folder for next tests, the cached version of MNIST will be used.</p> <p>When downloading completes you should have the following output : <div class=highlight><pre><span></span><code>Great! Take a look at your data:
name    data_type   tags                     description        shape                path                dataset_id
------  ---------   ----------------------   ----------------   ------------------   -------------       ---------------------
MNIST   default     [&#39;#MNIST&#39;, &#39;#dataset&#39;]   MNIST database     [60000, 1, 28, 28]   &lt;data_set_path&gt;     &lt;dataset_id&gt;
</code></pre></div></p> <p>You can check at any time which datasets are provided by a node with : <div class=highlight><pre><span></span><code>$ ${FEDBIOMED_DIR}/scripts/fedbiomed_run node list
</code></pre></div></p> <p>When no dataset is provided by the node, the command <code>${FEDBIOMED_DIR}/scripts/fedbiomed_run node list</code> will answer <code>No data has been set up.</code> as its final output line.</p> <h4 id=starting-more-nodes>Starting more nodes</h4> <p>To launch and configure more than one node, specify a different (non-default) configuration file for all commands related a the subsequent node.</p> <p>For example to launch and add a dataset to a second node using the <code>config2.ini</code> configuration file : <div class=highlight><pre><span></span><code>$ ${FEDBIOMED_DIR}/scripts/fedbiomed_run node config config2.ini start
$ ${FEDBIOMED_DIR}/scripts/fedbiomed_run node config config2.ini list
$ ${FEDBIOMED_DIR}/scripts/fedbiomed_run node config config2.ini add
</code></pre></div></p> <p><strong>Warning : if you launch more than one node with the same configuration file, no error is detected, but the nodes are not functional</strong></p> <h3 id=researcher>Researcher</h3> <p>Once the network and nodes are ready, you can start working with the researcher.</p> <p>Launch the researcher jupyter notebook console with : <div class=highlight><pre><span></span><code>$ ${FEDBIOMED_DIR}/scripts/fedbiomed_run researcher start
</code></pre></div></p> <p>For next tutorials, create a new notebook (<code>New</code> and <code>Python3</code> in the top right corner of the jupyter notebook), and cut/paste the tutorial code snippets in the notebook.</p> <p>Several example notebooks are also provided with Fed-BioMed.</p> <h2 id=clean-and-restart-fed-biomed-components>Clean and restart Fed-BioMed components</h2> <h3 id=a-word-on-working-with-environments>A word on working with environments</h3> <p>This tutorial explained how to launch Fed-BioMed components using the <code>fedbiomed_run</code> script. Behind the hood, each Fed-BioMed component runs in its own environment (conda, variables).</p> <p>If at some point you want to work interactively in the same environment as a Fed-BioMed component (eg. for debugging), you can activate this environment from a console.</p> <p><strong>Warning :</strong> this feature only works with <strong>bash</strong>, <strong>ksh</strong> and <strong>zsh</strong> shells (other shells like csh/tcsh are not yet suppported)</p> <p>To activate the <strong>network</strong> environment:</p> <div class=highlight><pre><span></span><code>$ source ${FEDBIOMED_DIR}/scripts/fedbiomed_environment network
</code></pre></div> <p>To activate the <strong>node</strong> environment:</p> <div class=highlight><pre><span></span><code>$ source ${FEDBIOMED_DIR}/scripts/fedbiomed_environment node
</code></pre></div> <p>To activate the <strong>researcher</strong> environment:</p> <div class=highlight><pre><span></span><code>$ source ${FEDBIOMED_DIR}/scripts/fedbiomed_environment researcher
</code></pre></div> <p>You can also, reset the environment with:</p> <div class=highlight><pre><span></span><code>$ source ${FEDBIOMED_DIR}/scripts/fedbiomed_environment reset
</code></pre></div> <h2 id=clean>Clean</h2> <p>A Fed-BioMed instance can handle successive operations like adding and then removing nodes or datasets, conducting sequential experiments. But after testing and tweeking, thing may get wrong. At this point, we provide you a script to clean all things. Afterwards, you will need to restart from scratch (start network, add datasets to nodes, start nodes, etc...)</p> <p>To clean your Fed-BioMed instance :</p> <ul> <li>stop the researcher : shutdown the notebook kernel (<code>Quit</code> in on the notebook interface or <code>ctrl-C</code> on the console)</li> <li>stop the nodes : interrupt (<code>ctrl-C</code>) on the nodes console</li> <li>stop the network and remove all configuration files, dataset sharing configuration, temporary files, caches for all Fed-BioMed components with :</li> </ul> <div class=highlight><pre><span></span><code>$ source ${FEDBIOMED_DIR}/scripts/fedbiomed_environment clean
</code></pre></div> <p>When you restart a node after cleaning the Fed-BioMed instance, the node doesn't provides any dataset, as the dataset sharing configuration was reset in the cleaning process. Of course, Fed-BioMed did not delete any data, it just stopped sharing them.</p> <h2 id=restart>Restart</h2> <p>After cleaning your Fed-BioMed environment, restart the network, a node and the researcher to be ready for the next tutorial ... do you remember the commands ?</p> <div class=highlight><pre><span></span><code>$ ${FEDBIOMED_DIR}/scripts/fedbiomed_run network
$ ${FEDBIOMED_DIR}/scripts/fedbiomed_run node add
$ ${FEDBIOMED_DIR}/scripts/fedbiomed_run node start
$ ${FEDBIOMED_DIR}/scripts/fedbiomed_run researcher start
</code></pre></div> <h2 id=whats-next>What's Next?</h2> <p>You now have a network and a node ready for an experiment. You also know how to stop an experiment, clean and restart your Fed-BioMed environment. In the following tutorial you will launch your first Fed-BioMed experiment.</p> </div> </div> <div class=right-col> <div id=right-sidebar class=sidebar-right> <nav class=toc> <!-- Render item list --> <label class=toc-title for=__toc> <span class=toc-icon></span> </label> <ul class=toc-list data-md-component=toc data-md-scrollfix> <!-- Table of contents item --> <li class=toc-item> <a href=#a-word-on-fed-biomed-components class=md-nav__link> A word on Fed-BioMed components </a> </li> <!-- Table of contents item --> <li class=toc-item> <a href=#launching-fed-biomed-components class=md-nav__link> Launching Fed-BioMed components </a> <nav class=toc-nav aria-label="Launching Fed-BioMed components"> <ul class=toc-list> <!-- Table of contents item --> <li class=toc-item> <a href=#network class=md-nav__link> Network </a> </li> <!-- Table of contents item --> <li class=toc-item> <a href=#node class=md-nav__link> Node </a> <nav class=toc-nav aria-label=Node> <ul class=toc-list> <!-- Table of contents item --> <li class=toc-item> <a href=#starting-a-first-node class=md-nav__link> Starting a first node </a> </li> <!-- Table of contents item --> <li class=toc-item> <a href=#adding-data-to-node class=md-nav__link> Adding data to node </a> </li> <!-- Table of contents item --> <li class=toc-item> <a href=#starting-more-nodes class=md-nav__link> Starting more nodes </a> </li> </ul> </nav> </li> <!-- Table of contents item --> <li class=toc-item> <a href=#researcher class=md-nav__link> Researcher </a> </li> </ul> </nav> </li> <!-- Table of contents item --> <li class=toc-item> <a href=#clean-and-restart-fed-biomed-components class=md-nav__link> Clean and restart Fed-BioMed components </a> <nav class=toc-nav aria-label="Clean and restart Fed-BioMed components"> <ul class=toc-list> <!-- Table of contents item --> <li class=toc-item> <a href=#a-word-on-working-with-environments class=md-nav__link> A word on working with environments </a> </li> </ul> </nav> </li> <!-- Table of contents item --> <li class=toc-item> <a href=#clean class=md-nav__link> Clean </a> </li> <!-- Table of contents item --> <li class=toc-item> <a href=#restart class=md-nav__link> Restart </a> </li> <!-- Table of contents item --> <li class=toc-item> <a href=#whats-next class=md-nav__link> What's Next? </a> </li> </ul> </nav> </div> </div> </div> </div> <!-- News Main Page--> </div> <footer> <div class=container-fluid> <div class=footer-first-inner> <div class=container> <div class=row> <div class=col-md-6> <div class=footer-contact> <strong>Address:</strong> <p>2004 Rte des Lucioles, 06902 Sophia Antipolis</p> <strong>E-mail:</strong> <p>fedbiomed _at_ inria _dot_ fr</p> </div> </div> <div class=col-md-6> <div class=footer-contact> <p>Fed-BioMed © 2022</p> </div> </div> </div> </div> </div> </div> </footer> <!-- JQuery --> <script src=https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js></script> <!-- Latest compiled and minified JavaScript --> <script src=https://stackpath.bootstrapcdn.com/bootstrap/3.4.1/js/bootstrap.min.js integrity=sha384-aJ21OjlMXNL5UyIl/XNwTMqvzeRMZH2w8c5cRVpzpU8Y5bApTppSuUkhZXN0VxHd crossorigin=anonymous></script> <script src=https://cdnjs.cloudflare.com/ajax/libs/tablesort/5.2.1/tablesort.min.js></script> <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script> <script src=https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js></script> <script src=../../../assets/javascript/lunr.js></script> <script src=../../../assets/javascript/theme.js></script> </body> </html>